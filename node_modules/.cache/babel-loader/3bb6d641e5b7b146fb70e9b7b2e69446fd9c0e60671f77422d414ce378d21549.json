{"ast":null,"code":"import React from'react';import currentUserContext from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Card(_ref){var id=_ref.id,src=_ref.src,name=_ref.name,onImageClick=_ref.onImageClick,likes=_ref.likes,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete,ownerId=_ref.ownerId;var userInfo=React.useContext(currentUserContext);var isOwn=ownerId===userInfo._id;//проверка для кнопки удаления\nvar isLiked=likes.some(function(item){return userInfo._id===item._id;});// проверка для отображения лайка\nfunction handleImageClick(){onImageClick({src:src,name:name});// прокинуть параметры для масштабируемого изображения\n}//лайк\nfunction handleLikeClick(){onCardLike(id,likes);}//удалить карточку\nfunction handleDeleteClick(){onCardDelete(id);}return/*#__PURE__*/_jsx(\"div\",{className:\"work-piece\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"element\",id:id,children:[/*#__PURE__*/_jsx(\"img\",{className:\"element__maskgroup\",src:src,alt:name,onClick:handleImageClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__group\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__title\",children:name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{// кнопка лайка\nclassName:\"element__like \".concat(isLiked?'element__like_activeted':''),type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"h2\",{className:\"element__like-sum\",children:likes.length})]}),isOwn?/*#__PURE__*/_jsx(\"button\",{className:\"element__button-delete\",onClick:handleDeleteClick})//кнопка удаления карточки\n:/*#__PURE__*/_jsx(_Fragment,{})]})]})});}export default Card;","map":{"version":3,"names":["React","currentUserContext","Card","id","src","name","onImageClick","likes","onCardLike","onCardDelete","ownerId","userInfo","useContext","isOwn","_id","isLiked","some","item","handleImageClick","handleLikeClick","handleDeleteClick","length"],"sources":["C:/Users/vyach/dev/react-mesto-auth/src/components/Card.js"],"sourcesContent":["import React from 'react';\r\nimport currentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({ id, src, name, onImageClick, likes, onCardLike, onCardDelete, ownerId }) {\r\n\r\n    const userInfo = React.useContext(currentUserContext);\r\n    const isOwn = ownerId === userInfo._id; //проверка для кнопки удаления\r\n    const isLiked = likes.some(item => userInfo._id === item._id); // проверка для отображения лайка\r\n\r\n    function handleImageClick() {\r\n        onImageClick({ src: src, name: name }); // прокинуть параметры для масштабируемого изображения\r\n    }\r\n\r\n    //лайк\r\n    function handleLikeClick() {\r\n        onCardLike(id, likes)\r\n    }\r\n\r\n    //удалить карточку\r\n    function handleDeleteClick() {\r\n        onCardDelete(id)\r\n    }\r\n\r\n    return (\r\n        <div className=\"work-piece\">\r\n            <div className=\"element\" id={id}>\r\n                <img className=\"element__maskgroup\" src={src} alt={name} onClick={handleImageClick} />\r\n                <div className=\"element__group\">\r\n                    <h2 className=\"element__title\">{name}</h2>\r\n                    <div>\r\n                        <button // кнопка лайка\r\n                            className={`element__like ${isLiked ? 'element__like_activeted' : ''}`}\r\n                            type=\"button\"\r\n                            onClick={handleLikeClick}>\r\n                        </button>\r\n                        <h2 className=\"element__like-sum\">{likes.length}</h2>\r\n                    </div>\r\n                    {isOwn ?\r\n                        <button className=\"element__button-delete\" onClick={handleDeleteClick}></button> //кнопка удаления карточки\r\n                        :\r\n                        <></>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,mBAAkB,KAAM,gCAAgC,CAAC,6IAGhE,QAASC,KAAI,MAA4E,IAAzEC,GAAE,MAAFA,EAAE,CAAEC,GAAG,MAAHA,GAAG,CAAEC,IAAI,MAAJA,IAAI,CAAEC,YAAY,MAAZA,YAAY,CAAEC,KAAK,MAALA,KAAK,CAAEC,UAAU,MAAVA,UAAU,CAAEC,YAAY,MAAZA,YAAY,CAAEC,OAAO,MAAPA,OAAO,CAEjF,GAAMC,SAAQ,CAAGX,KAAK,CAACY,UAAU,CAACX,kBAAkB,CAAC,CACrD,GAAMY,MAAK,CAAGH,OAAO,GAAKC,QAAQ,CAACG,GAAG,CAAE;AACxC,GAAMC,QAAO,CAAGR,KAAK,CAACS,IAAI,CAAC,SAAAC,IAAI,QAAIN,SAAQ,CAACG,GAAG,GAAKG,IAAI,CAACH,GAAG,GAAC,CAAE;AAE/D,QAASI,iBAAgB,EAAG,CACxBZ,YAAY,CAAC,CAAEF,GAAG,CAAEA,GAAG,CAAEC,IAAI,CAAEA,IAAK,CAAC,CAAC,CAAE;AAC5C,CAEA;AACA,QAASc,gBAAe,EAAG,CACvBX,UAAU,CAACL,EAAE,CAAEI,KAAK,CAAC,CACzB,CAEA;AACA,QAASa,kBAAiB,EAAG,CACzBX,YAAY,CAACN,EAAE,CAAC,CACpB,CAEA,mBACI,YAAK,SAAS,CAAC,YAAY,uBACvB,aAAK,SAAS,CAAC,SAAS,CAAC,EAAE,CAAEA,EAAG,wBAC5B,YAAK,SAAS,CAAC,oBAAoB,CAAC,GAAG,CAAEC,GAAI,CAAC,GAAG,CAAEC,IAAK,CAAC,OAAO,CAAEa,gBAAiB,EAAG,cACtF,aAAK,SAAS,CAAC,gBAAgB,wBAC3B,WAAI,SAAS,CAAC,gBAAgB,UAAEb,IAAI,EAAM,cAC1C,oCACI,eAAQ;AACJ,SAAS,yBAAmBU,OAAO,CAAG,yBAAyB,CAAG,EAAE,CAAG,CACvE,IAAI,CAAC,QAAQ,CACb,OAAO,CAAEI,eAAgB,EACpB,cACT,WAAI,SAAS,CAAC,mBAAmB,UAAEZ,KAAK,CAACc,MAAM,EAAM,GACnD,CACLR,KAAK,cACF,eAAQ,SAAS,CAAC,wBAAwB,CAAC,OAAO,CAAEO,iBAAkB,EAAW;AAAA,cAEjF,kBAAK,GAEP,GACJ,EACJ,CAEd,CACA,cAAelB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}