{"ast":null,"code":"import _classCallCheck from\"C:/Users/vyach/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/vyach/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(data){_classCallCheck(this,Auth);this.host=data.host;}//пробросить данные для регистрации через АПИ\n_createClass(Auth,[{key:\"register\",value:function register(data){return fetch(\"\".concat(this.host,\"/signup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:data.password,email:data.email})}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});}},{key:\"login\",value://пробросить данные из инпутов и отправить на сервер для авторизации пользователя\nfunction login(dataUser){return fetch(\"\".concat(this.host,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:dataUser.password,email:dataUser.email})}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});}},{key:\"getToken\",value://запрос на сервер для авторизации\nfunction getToken(tkn){return fetch(\"\".concat(this.host,\"/users/me\"),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(tkn)}}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});}}]);return Auth;}();var auth=new Auth({host:'https://auth.nomoreparties.co'});export default auth;","map":{"version":3,"names":["Auth","data","host","fetch","method","headers","body","JSON","stringify","password","email","then","res","json","catch","err","console","log","dataUser","tkn","auth"],"sources":["C:/Users/vyach/dev/react-mesto-auth/src/utils/Auth.js"],"sourcesContent":["class Auth {\r\n    constructor(data) {\r\n        this.host = data.host;\r\n    }\r\n\r\n    //пробросить данные для регистрации через АПИ\r\n    register(data) {\r\n        return fetch(`${this.host}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                password: data.password,\r\n                email: data.email,\r\n            })\r\n        }).then((res) => res.json())\r\n            .catch((err) => console.log(err))\r\n    };\r\n\r\n    //пробросить данные из инпутов и отправить на сервер для авторизации пользователя\r\n    login(dataUser) {\r\n        return fetch(`${this.host}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                password: dataUser.password,\r\n                email: dataUser.email,\r\n            })\r\n        }).then((res) => { return res.json() })\r\n            .catch((err) => console.log(err))\r\n    };\r\n\r\n    //запрос на сервер для авторизации\r\n    getToken(tkn) {\r\n        return fetch(`${this.host}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${tkn}`,\r\n            }\r\n        }).then((res) => res.json())\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n}\r\n\r\nconst auth = new Auth({\r\n    host: 'https://auth.nomoreparties.co',\r\n});\r\n\r\nexport default auth;"],"mappings":"mPAAMA,KAAI,yBACN,cAAYC,IAAI,CAAE,4BACd,IAAI,CAACC,IAAI,CAAGD,IAAI,CAACC,IAAI,CACzB,CAEA;AAAA,yCACA,kBAASD,IAAI,CAAE,CACX,MAAOE,MAAK,WAAI,IAAI,CAACD,IAAI,YAAW,CAChCE,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,QAAQ,CAAER,IAAI,CAACQ,QAAQ,CACvBC,KAAK,CAAET,IAAI,CAACS,KAChB,CAAC,CACL,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACvBC,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACzC,CAAC,qBAED;AACA,eAAMG,QAAQ,CAAE,CACZ,MAAOf,MAAK,WAAI,IAAI,CAACD,IAAI,YAAW,CAChCE,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,QAAQ,CAAES,QAAQ,CAACT,QAAQ,CAC3BC,KAAK,CAAEQ,QAAQ,CAACR,KACpB,CAAC,CACL,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CAAE,MAAOA,IAAG,CAACC,IAAI,EAAE,CAAC,CAAC,CAAC,CAClCC,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACzC,CAAC,wBAED;AACA,kBAASI,GAAG,CAAE,CACV,MAAOhB,MAAK,WAAI,IAAI,CAACD,IAAI,cAAa,CAClCE,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAAkB,CAClC,eAAe,kBAAYc,GAAG,CAClC,CACJ,CAAC,CAAC,CAACR,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACvBC,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACzC,CAAC,oBAIL,GAAMK,KAAI,CAAG,GAAIpB,KAAI,CAAC,CAClBE,IAAI,CAAE,+BACV,CAAC,CAAC,CAEF,cAAekB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}