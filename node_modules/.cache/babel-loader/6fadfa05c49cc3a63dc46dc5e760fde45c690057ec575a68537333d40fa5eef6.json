{"ast":null,"code":"import _slicedToArray from\"C:/Users/vyach/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,isClose=_ref.isClose,onUpdateAvatar=_ref.onUpdateAvatar;var inputRef=useRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),link=_useState2[0],setLink=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),validationMassegeLink=_useState4[0],setValidationMassegeLink=_useState4[1];function handleChange(e){setLink(e.target.value);setValidationMassegeLink(e.target.validationMessage);}function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:inputRef.current.value});}//очистить инпуты после сабмита\nuseEffect(function(){setLink('');setValidationMassegeLink('Введите ссылку для изображения');},[isOpen]);return/*#__PURE__*/_jsx(PopupWithForm,{name:\"popup_avatar_redact\",text:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:isOpen,isClose:isClose,onSubmit:handleSubmit,textButtonSubmit:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",validationOptions:validationMassegeLink===''?false:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input-conainer\",children:[/*#__PURE__*/_jsx(\"input\",{value:link,ref:inputRef,type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430\",className:\"popup__input popup__input_name_image\",name:\"link\",id:\"ava-link\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__text-error\",id:\"error-firstname\",children:validationMassegeLink})]})});}export default EditAvatarPopup;","map":{"version":3,"names":["React","useState","useEffect","useRef","PopupWithForm","EditAvatarPopup","isOpen","isClose","onUpdateAvatar","inputRef","link","setLink","validationMassegeLink","setValidationMassegeLink","handleChange","e","target","value","validationMessage","handleSubmit","preventDefault","avatar","current"],"sources":["C:/Users/vyach/dev/react-mesto-auth/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, isClose, onUpdateAvatar }) {\r\n\r\n    const inputRef = useRef();\r\n    const [link, setLink] = useState('');\r\n    const [validationMassegeLink, setValidationMassegeLink] = useState('');\r\n\r\n    function handleChange(e) {\r\n        setLink(e.target.value);\r\n        setValidationMassegeLink(e.target.validationMessage);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: inputRef.current.value,\r\n        });\r\n    }\r\n\r\n    //очистить инпуты после сабмита\r\n    useEffect(() => {\r\n        setLink('');\r\n        setValidationMassegeLink('Введите ссылку для изображения')\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <PopupWithForm name='popup_avatar_redact'\r\n            text='Обновить аватар'\r\n            isOpen={isOpen}\r\n            isClose={isClose}\r\n            onSubmit={handleSubmit}\r\n            textButtonSubmit ='Сохранить'\r\n            validationOptions={(validationMassegeLink === '') ? false : true}\r\n            children={\r\n                <div className=\"popup__input-conainer\">\r\n                    <input value={link} ref={inputRef} type=\"url\" placeholder=\"Ссылка\" className=\"popup__input popup__input_name_image\"\r\n                        name=\"link\" id=\"ava-link\" onChange={handleChange} required />\r\n                    <span className=\"popup__text-error\" id=\"error-firstname\">{validationMassegeLink}</span>\r\n                </div>\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;"],"mappings":"yHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAOC,cAAa,KAAM,iBAAiB,CAAC,wFAE5C,QAASC,gBAAe,MAAsC,IAAnCC,OAAM,MAANA,MAAM,CAAEC,OAAO,MAAPA,OAAO,CAAEC,cAAc,MAAdA,cAAc,CAEtD,GAAMC,SAAQ,CAAGN,MAAM,EAAE,CACzB,cAAwBF,QAAQ,CAAC,EAAE,CAAC,wCAA7BS,IAAI,eAAEC,OAAO,eACpB,eAA0DV,QAAQ,CAAC,EAAE,CAAC,yCAA/DW,qBAAqB,eAAEC,wBAAwB,eAEtD,QAASC,aAAY,CAACC,CAAC,CAAE,CACrBJ,OAAO,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACvBJ,wBAAwB,CAACE,CAAC,CAACC,MAAM,CAACE,iBAAiB,CAAC,CACxD,CAEA,QAASC,aAAY,CAACJ,CAAC,CAAE,CACrBA,CAAC,CAACK,cAAc,EAAE,CAClBZ,cAAc,CAAC,CACXa,MAAM,CAAEZ,QAAQ,CAACa,OAAO,CAACL,KAC7B,CAAC,CAAC,CACN,CAEA;AACAf,SAAS,CAAC,UAAM,CACZS,OAAO,CAAC,EAAE,CAAC,CACXE,wBAAwB,CAAC,gCAAgC,CAAC,CAC9D,CAAC,CAAE,CAACP,MAAM,CAAC,CAAC,CAEZ,mBACI,KAAC,aAAa,EAAC,IAAI,CAAC,qBAAqB,CACrC,IAAI,CAAC,uFAAiB,CACtB,MAAM,CAAEA,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAEY,YAAa,CACvB,gBAAgB,CAAE,wDAAW,CAC7B,iBAAiB,CAAGP,qBAAqB,GAAK,EAAE,CAAI,KAAK,CAAG,IAAK,CACjE,QAAQ,cACJ,aAAK,SAAS,CAAC,uBAAuB,wBAClC,cAAO,KAAK,CAAEF,IAAK,CAAC,GAAG,CAAED,QAAS,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,sCAAQ,CAAC,SAAS,CAAC,sCAAsC,CAC/G,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAEK,YAAa,CAAC,QAAQ,OAAG,cACjE,aAAM,SAAS,CAAC,mBAAmB,CAAC,EAAE,CAAC,iBAAiB,UAAEF,qBAAqB,EAAQ,GAE9F,EACH,CAEV,CAEA,cAAeP,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}