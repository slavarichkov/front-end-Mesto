{"ast":null,"code":"import _slicedToArray from\"C:/Users/vyach/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import PopupWithForm from'./PopupWithForm';import currentUserContext from'../contexts/CurrentUserContext';//редактирование профиля\nimport{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,isClose=_ref.isClose,onUpdateUser=_ref.onUpdateUser;//данные юзера \nvar currentUser=useContext(currentUserContext);// Стейты, в которых содержятся значения инпута\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),validationMassegeName=_useState6[0],setValidationMassegeName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),validationMassegeDescription=_useState8[0],setValidationMassegeDescription=_useState8[1];//передать данные юзера в инпуты\nuseEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);// Обработчики изменения инпута - обновляет стейт\nfunction handleChangeName(e){setName(e.target.value);setValidationMassegeName(e.target.validationMessage);}function handleChangeDescription(e){setDescription(e.target.value);setValidationMassegeDescription(e.target.validationMessage);}//отправка на сервер \nfunction handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"popup_user_input\",text:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,isClose:isClose,onSubmit:handleSubmit,textButtonSubmit:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",validationOptions:validationMassegeName===''&validationMassegeDescription===''?false:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input-conainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__input popup__input_field_firstname\",name:\"firstname\",id:\"username-input\",minLength:\"2\",maxLength:\"40\",required:true,value:name||'',onChange:handleChangeName}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__text-error\",id:\"error-firstname\",children:validationMassegeName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input-conainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",className:\"popup__input\",name:\"profession\",id:\"profession-input\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleChangeDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__text-error\",id:\"error-firstname\",children:validationMassegeDescription})]})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","useContext","PopupWithForm","currentUserContext","EditProfilePopup","isOpen","isClose","onUpdateUser","currentUser","name","setName","description","setDescription","validationMassegeName","setValidationMassegeName","validationMassegeDescription","setValidationMassegeDescription","about","handleChangeName","e","target","value","validationMessage","handleChangeDescription","handleSubmit","preventDefault"],"sources":["C:/Users/vyach/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport currentUserContext from '../contexts/CurrentUserContext';\r\n\r\n//редактирование профиля\r\nfunction EditProfilePopup({ isOpen, isClose, onUpdateUser }) {\r\n\r\n    //данные юзера \r\n    const currentUser = useContext(currentUserContext);\r\n\r\n    // Стейты, в которых содержятся значения инпута\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [validationMassegeName, setValidationMassegeName] = useState('');\r\n    const [validationMassegeDescription, setValidationMassegeDescription] = useState('');\r\n\r\n    //передать данные юзера в инпуты\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen])\r\n\r\n    // Обработчики изменения инпута - обновляет стейт\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n        setValidationMassegeName(e.target.validationMessage);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n        setValidationMassegeDescription(e.target.validationMessage);\r\n    }\r\n\r\n    //отправка на сервер \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        < PopupWithForm\r\n            name='popup_user_input'\r\n            text='Редактировать профиль'\r\n            isOpen={isOpen}\r\n            isClose={isClose}\r\n            onSubmit={handleSubmit}\r\n            textButtonSubmit ='Сохранить'\r\n            validationOptions={(validationMassegeName === '' & validationMassegeDescription === '') ? false : true}\r\n            children={\r\n                <>\r\n                    <div className=\"popup__input-conainer\">\r\n                        <input type=\"text\" placeholder=\"Имя\" className=\"popup__input popup__input_field_firstname\"\r\n                            name=\"firstname\" id=\"username-input\" minLength=\"2\" maxLength=\"40\" required\r\n                            value={name || ''} onChange={handleChangeName} />\r\n                        <span className=\"popup__text-error\" id=\"error-firstname\">{validationMassegeName}</span>\r\n                    </div>\r\n                    <div className=\"popup__input-conainer\">\r\n                        <input type=\"text\" placeholder=\"Профессия\" className=\"popup__input\"\r\n                            name=\"profession\" id=\"profession-input\" minLength=\"2\" maxLength=\"200\" required\r\n                            value={description || ''} onChange={handleChangeDescription} />\r\n                        <span className=\"popup__text-error\" id=\"error-firstname\">{validationMassegeDescription}</span>\r\n                    </div>\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"yHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAOC,mBAAkB,KAAM,gCAAgC,CAE/D;AAAA,6IACA,QAASC,iBAAgB,MAAoC,IAAjCC,OAAM,MAANA,MAAM,CAAEC,OAAO,MAAPA,OAAO,CAAEC,YAAY,MAAZA,YAAY,CAErD;AACA,GAAMC,YAAW,CAAGP,UAAU,CAACE,kBAAkB,CAAC,CAElD;AACA,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BU,IAAI,eAAEC,OAAO,eACpB,eAAsCX,QAAQ,CAAC,EAAE,CAAC,yCAA3CY,WAAW,eAAEC,cAAc,eAClC,eAA0Db,QAAQ,CAAC,EAAE,CAAC,yCAA/Dc,qBAAqB,eAAEC,wBAAwB,eACtD,eAAwEf,QAAQ,CAAC,EAAE,CAAC,yCAA7EgB,4BAA4B,eAAEC,+BAA+B,eAEpE;AACAhB,SAAS,CAAC,UAAM,CACZU,OAAO,CAACF,WAAW,CAACC,IAAI,CAAC,CACzBG,cAAc,CAACJ,WAAW,CAACS,KAAK,CAAC,CACrC,CAAC,CAAE,CAACT,WAAW,CAAEH,MAAM,CAAC,CAAC,CAEzB;AACA,QAASa,iBAAgB,CAACC,CAAC,CAAE,CACzBT,OAAO,CAACS,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACvBP,wBAAwB,CAACK,CAAC,CAACC,MAAM,CAACE,iBAAiB,CAAC,CACxD,CAEA,QAASC,wBAAuB,CAACJ,CAAC,CAAE,CAChCP,cAAc,CAACO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC9BL,+BAA+B,CAACG,CAAC,CAACC,MAAM,CAACE,iBAAiB,CAAC,CAC/D,CAEA;AACA,QAASE,aAAY,CAACL,CAAC,CAAE,CACrBA,CAAC,CAACM,cAAc,EAAE,CAClBlB,YAAY,CAAC,CACTE,IAAI,CAAJA,IAAI,CACJQ,KAAK,CAAEN,WACX,CAAC,CAAC,CACN,CAEA,mBACI,KAAE,aAAa,EACX,IAAI,CAAC,kBAAkB,CACvB,IAAI,CAAC,2HAAuB,CAC5B,MAAM,CAAEN,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAEkB,YAAa,CACvB,gBAAgB,CAAE,wDAAW,CAC7B,iBAAiB,CAAGX,qBAAqB,GAAK,EAAE,CAAGE,4BAA4B,GAAK,EAAE,CAAI,KAAK,CAAG,IAAK,CACvG,QAAQ,cACJ,wCACI,aAAK,SAAS,CAAC,uBAAuB,wBAClC,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,oBAAK,CAAC,SAAS,CAAC,2CAA2C,CACtF,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,MAC1E,KAAK,CAAEN,IAAI,EAAI,EAAG,CAAC,QAAQ,CAAES,gBAAiB,EAAG,cACrD,aAAM,SAAS,CAAC,mBAAmB,CAAC,EAAE,CAAC,iBAAiB,UAAEL,qBAAqB,EAAQ,GACrF,cACN,aAAK,SAAS,CAAC,uBAAuB,wBAClC,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,wDAAW,CAAC,SAAS,CAAC,cAAc,CAC/D,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,MAC9E,KAAK,CAAEF,WAAW,EAAI,EAAG,CAAC,QAAQ,CAAEY,uBAAwB,EAAG,cACnE,aAAM,SAAS,CAAC,mBAAmB,CAAC,EAAE,CAAC,iBAAiB,UAAER,4BAA4B,EAAQ,GAC5F,GAEb,EACH,CAEV,CAEA,cAAeX,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}