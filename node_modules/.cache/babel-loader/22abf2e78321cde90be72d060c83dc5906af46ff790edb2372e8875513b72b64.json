{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vyach\\\\dev\\\\react-mesto-auth\\\\src\\\\components\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport currentUserContext from '../contexts/CurrentUserContext';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Spinner from './Spinner';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport auth from '../utils/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlace] = useState(false);\n  const [isImagePopupOpened, setIsImagePopupOpened] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(true);\n  const [isRegisterPopupOpened, setIsRegisterPopupOpened] = useState(false);\n  const [isAuthUnsuccessfull, setIsAuthUserUnsuccessfull] = useState(false);\n  const [registerIn, setRegisterIn] = useState(false);\n  const [textErrorRegister, setTextErrorRegister] = useState('');\n  const popupClosedState = [\n  // необходимо для использования в useEffect и закрытия попапов\n  isEditAvatarPopupOpen, isAddPlacePopupOpen, isDeletePlacePopupOpen, isEditProfilePopupOpen, isImagePopupOpened, isRegisterPopupOpened, isAuthUnsuccessfull];\n\n  //...Работа с Апи(получение и редактирование инф на сервере: данные пользователя, карточки)...\n\n  //пробросить данные из EditProfilePopup наверх для Апи и обновления стейта currentUser\n  function handleUpdateUser(data) {\n    setLoading(true);\n    api.sendUserInfo(data).then(dataUser => {\n      setCurrentUser(dataUser);\n      setIsEditProfilePopupOpen(false);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  }\n\n  //пробросить данные для обновления аватара и отправки на сервер\n  function handleUpdateAvatar(data) {\n    setLoading(true);\n    api.sendAvatar(data).then(dataAvatar => {\n      setCurrentUser(dataAvatar);\n      setIsEditAvatarPopupOpen(false);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  }\n\n  // запрос данных пользователя и карточек с сервера\n  useEffect(() => {\n    setLoading(true);\n    api.getUserInfo().then(infoUser => {\n      setCurrentUser(infoUser);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  }, []);\n\n  // запрос данных пользователя и карточек с сервера\n  useEffect(() => {\n    setLoading(true);\n    api.getImages().then(initialCards => {\n      setCards(initialCards);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  }, []);\n\n  //...Работа с попапами...\n\n  // функции открытия попапов\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleDeletePlaceClick() {\n    // в процессе реализации\n    setIsDeletePlace(true);\n  }\n  function handleCardClick(dataCard) {\n    setIsImagePopupOpened(true);\n    setSelectedCard(dataCard); //пробросить данные открытой карточки из Card для добавления в попап масштабируемого изображения\n  }\n\n  // функция закрытия попапов\n  function closeAllPopups(e) {\n    e.preventDefault();\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePlace(false);\n    setIsImagePopupOpened(false);\n    setIsRegisterPopupOpened(false);\n    setIsAuthUserUnsuccessfull(false);\n  }\n\n  //закрыть на Esc\n  function handleCloseAllPopupsEcs(e) {\n    if (e.key === \"Escape\") {\n      closeAllPopups(e);\n    }\n  }\n\n  //закрыть на оверлей\n  function handleCloseAllPopupsClickOverlay(e) {\n    if (e.target.classList.contains('popup_overlay')) {\n      closeAllPopups(e);\n    }\n  }\n\n  //Слушатели на закрытие попапов по Esc или клику на оверлей\n  useEffect(() => {\n    if (popupClosedState.includes(true)) {\n      document.addEventListener('click', handleCloseAllPopupsClickOverlay);\n      document.addEventListener('keydown', handleCloseAllPopupsEcs);\n      return () => {\n        document.removeEventListener('click', handleCloseAllPopupsClickOverlay);\n        document.removeEventListener('keydown', handleCloseAllPopupsEcs);\n      };\n    }\n  }, [popupClosedState]);\n\n  // ...Работа с карточками...\n\n  // управлять лайком\n  function handleCardLike(cardId, likes) {\n    const isLiked = likes.some(i => i._id === currentUser._id); // проверяем, есть ли уже лайк на этой карточке\n    //Отправляем запрос в API и получаем обновлённые данные карточки\n    if (!isLiked) {\n      setLoading(true);\n      api.addLike(cardId).then(newCard => {\n        setLoading(false);\n        setCards(cards => cards.map(c => c._id === cardId ? newCard : c));\n      }).catch(err => {\n        setLoading(false);\n        console.log(err);\n      }); // данные карточки с лайком - стейт всех карточек -  мапом найти карточку с таким же айди, если нет, то новый стейт, если нет - не менять\n    } else {\n      setLoading(true);\n      api.deleteLike(cardId).then(newCard => {\n        setLoading(false);\n        setCards(cards => cards.map(c => c._id === cardId ? newCard : c));\n      }).catch(err => {\n        setLoading(false);\n        console.log(err);\n      });\n    }\n  }\n\n  //удаление карточки\n  function handleCardDelete(cardId) {\n    setLoading(true);\n    api.deleteCard(cardId).then(() => {\n      setLoading(false);\n      setCards(cards => cards.filter(c => c._id !== cardId));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  //отправка карточки на сервер и обновление стейта для отрисовки \n  function handleAddPlaceSubmit(data) {\n    setLoading(true);\n    api.sendImages(data).then(newCard => {\n      setCards([newCard, ...cards]);\n      setIsAddPlacePopupOpen(false);\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n      setLoading(false);\n    });\n  }\n\n  //...Регистрация и Авторизация...\n\n  //пробросить данные для регистрации через АПИ\n  function handleRegister(data) {\n    auth.register(data).then(data => {\n      //записать в переменную ошибку -> вывести в инф.окно\n      let messageError = data.message;\n      if (Object.keys(data).includes('message')) {\n        messageError = data.message;\n      } else if (Object.keys(data).includes('error')) {\n        messageError = data.error;\n      }\n      //проверить ответ сервера на содержание, есть ли ошибки\n      if (Object.keys(data).includes('message') || Object.keys(data).includes('error')) {\n        setTextErrorRegister(messageError); // передать текст ошибки в инф.окно\n        setIsAuthUserUnsuccessfull(true);\n      } else {\n        setIsRegisterPopupOpened(true); // при положительном ответе открыть попап подверждения регистрации\n        setTimeout(() => {\n          // закрыть подверждение через 3 сек.\n          setIsRegisterPopupOpened(false);\n          setRegisterIn(false);\n        }, 3000);\n        setRegisterIn(true);\n      }\n    }).catch(err => {\n      console.log(err);\n      setIsAuthUserUnsuccessfull(false);\n    });\n  }\n  ;\n\n  //пробросить данные из инпутов и отправить на сервер для авторизации пользователя\n  function handleLogin(dataUser) {\n    auth.login(dataUser).then(data => {\n      if (data.message === 'Incorrect email address or password') {\n        setIsAuthUserUnsuccessfull(true);\n        setTextErrorRegister(data.message); // передать текст ошибки в инф.окно\n      } else {\n        localStorage.setItem('token', data.token);\n        localStorage.setItem(\"email\", dataUser.email);\n        getAuth(data.token);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  ;\n\n  //запрос на сервер для авторизации\n  function getAuth(tkn) {\n    auth.getToken(tkn).then(() => {\n      setLoggedIn(true);\n    }).catch(err => {\n      console.log(err);\n      setIsAuthUserUnsuccessfull(false);\n    });\n  }\n\n  //валидация токена\n  function tokenCheck() {\n    const jwt = localStorage.getItem('token');\n    if (jwt !== null) {\n      setLoggedIn(true);\n      getAuth(jwt);\n    } else {\n      setLoggedIn(false);\n    }\n  }\n\n  //проверка авторизации пользователя\n  useEffect(() => {\n    tokenCheck(localStorage.getItem('token'));\n  }, [loggedIn]);\n\n  // выйти из аккаунта (пробрасывается из Header) \n  function handleLogginOut(data) {\n    setLoggedIn(data);\n    localStorage.clear();\n  }\n  return /*#__PURE__*/_jsxDEV(currentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        handleLoggedInStateChanged: handleLogginOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-in\",\n          children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          children: registerIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(Register, {\n            onRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 56\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: [loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), loggedIn ? /*#__PURE__*/_jsxDEV(Main, {\n            onEditAvatar: handleEditAvatarClick,\n            onEditProfile: handleEditProfileClick,\n            onAddPlace: handleAddPlaceClick,\n            onCardClick: handleCardClick,\n            cards: cards,\n            onCardLike: handleCardLike,\n            onCardDelete: handleCardDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        loggedIn: loggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isRegister: isRegisterPopupOpened,\n        isClose: closeAllPopups,\n        isAuth: isAuthUnsuccessfull,\n        textError: textErrorRegister\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        isOpen: isEditProfilePopupOpen,\n        isClose: closeAllPopups,\n        onUpdateUser: handleUpdateUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        isOpen: isAddPlacePopupOpen,\n        isClose: closeAllPopups,\n        onAddPlace: handleAddPlaceSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        isOpen: isEditAvatarPopupOpen,\n        isClose: closeAllPopups,\n        onUpdateAvatar: handleUpdateAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n        name: \"popup_card_remove\",\n        text: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",\n        isOpen: isDeletePlacePopupOpen,\n        isClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        isOpen: isImagePopupOpened,\n        name: selectedCard.name,\n        link: selectedCard.src,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 309,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"4wCBCNCkBV/rWCUPNWjXHgS8sqk=\");\n_c = App;\nexport default App;\n\n//\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Route","Switch","Redirect","Header","Main","Footer","PopupWithForm","ImagePopup","currentUserContext","api","EditProfilePopup","EditAvatarPopup","AddPlacePopup","Spinner","Login","Register","InfoTooltip","auth","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlace","isImagePopupOpened","setIsImagePopupOpened","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","loading","setLoading","loggedIn","setLoggedIn","isRegisterPopupOpened","setIsRegisterPopupOpened","isAuthUnsuccessfull","setIsAuthUserUnsuccessfull","registerIn","setRegisterIn","textErrorRegister","setTextErrorRegister","popupClosedState","handleUpdateUser","data","sendUserInfo","then","dataUser","catch","err","console","log","handleUpdateAvatar","sendAvatar","dataAvatar","getUserInfo","infoUser","getImages","initialCards","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleDeletePlaceClick","handleCardClick","dataCard","closeAllPopups","e","preventDefault","handleCloseAllPopupsEcs","key","handleCloseAllPopupsClickOverlay","target","classList","contains","includes","document","addEventListener","removeEventListener","handleCardLike","cardId","likes","isLiked","some","i","_id","addLike","newCard","map","c","deleteLike","handleCardDelete","deleteCard","filter","handleAddPlaceSubmit","sendImages","handleRegister","register","messageError","message","Object","keys","error","setTimeout","handleLogin","login","localStorage","setItem","token","email","getAuth","tkn","getToken","tokenCheck","jwt","getItem","handleLogginOut","clear","name","src"],"sources":["C:/Users/vyach/dev/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport currentUserContext from '../contexts/CurrentUserContext';\r\nimport api from '../utils/Api';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Spinner from './Spinner';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport auth from '../utils/Auth';\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeletePlacePopupOpen, setIsDeletePlace] = useState(false);\r\n  const [isImagePopupOpened, setIsImagePopupOpened] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(true);\r\n  const [isRegisterPopupOpened, setIsRegisterPopupOpened] = useState(false);\r\n  const [isAuthUnsuccessfull, setIsAuthUserUnsuccessfull] = useState(false);\r\n  const [registerIn, setRegisterIn] = useState(false);\r\n  const [textErrorRegister, setTextErrorRegister] = useState('');\r\n  const popupClosedState = [  // необходимо для использования в useEffect и закрытия попапов\r\n    isEditAvatarPopupOpen,\r\n    isAddPlacePopupOpen,\r\n    isDeletePlacePopupOpen,\r\n    isEditProfilePopupOpen,\r\n    isImagePopupOpened,\r\n    isRegisterPopupOpened,\r\n    isAuthUnsuccessfull\r\n  ];\r\n\r\n  //...Работа с Апи(получение и редактирование инф на сервере: данные пользователя, карточки)...\r\n\r\n  //пробросить данные из EditProfilePopup наверх для Апи и обновления стейта currentUser\r\n  function handleUpdateUser(data) {\r\n    setLoading(true);\r\n    api.sendUserInfo(data)\r\n      .then((dataUser) => {\r\n        setCurrentUser(dataUser);\r\n        setIsEditProfilePopupOpen(false);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  //пробросить данные для обновления аватара и отправки на сервер\r\n  function handleUpdateAvatar(data) {\r\n    setLoading(true);\r\n    api.sendAvatar(data)\r\n      .then((dataAvatar) => {\r\n        setCurrentUser(dataAvatar);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  // запрос данных пользователя и карточек с сервера\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    api.getUserInfo()\r\n      .then((infoUser) => {\r\n        setCurrentUser(infoUser);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  // запрос данных пользователя и карточек с сервера\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    api.getImages()\r\n      .then((initialCards) => {\r\n        setCards(initialCards);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      })\r\n  }, []);\r\n\r\n  //...Работа с попапами...\r\n\r\n  // функции открытия попапов\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleDeletePlaceClick() { // в процессе реализации\r\n    setIsDeletePlace(true);\r\n  }\r\n\r\n  function handleCardClick(dataCard) {\r\n    setIsImagePopupOpened(true);\r\n    setSelectedCard(dataCard); //пробросить данные открытой карточки из Card для добавления в попап масштабируемого изображения\r\n  }\r\n\r\n  // функция закрытия попапов\r\n  function closeAllPopups(e) {\r\n    e.preventDefault();\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeletePlace(false);\r\n    setIsImagePopupOpened(false);\r\n    setIsRegisterPopupOpened(false);\r\n    setIsAuthUserUnsuccessfull(false)\r\n  }\r\n\r\n  //закрыть на Esc\r\n  function handleCloseAllPopupsEcs(e) {\r\n    if (e.key === \"Escape\") {\r\n      closeAllPopups(e);\r\n    }\r\n  }\r\n\r\n  //закрыть на оверлей\r\n  function handleCloseAllPopupsClickOverlay(e) {\r\n    if (e.target.classList.contains('popup_overlay')) {\r\n      closeAllPopups(e);\r\n    }\r\n  }\r\n\r\n  //Слушатели на закрытие попапов по Esc или клику на оверлей\r\n  useEffect(() => {\r\n    if (\r\n      popupClosedState.includes(true)\r\n    ) {\r\n      document.addEventListener('click', handleCloseAllPopupsClickOverlay);\r\n      document.addEventListener('keydown', handleCloseAllPopupsEcs);\r\n      return () => {\r\n        document.removeEventListener('click', handleCloseAllPopupsClickOverlay);\r\n        document.removeEventListener('keydown', handleCloseAllPopupsEcs);\r\n      }\r\n    }\r\n  }, [popupClosedState]);\r\n\r\n  // ...Работа с карточками...\r\n\r\n  // управлять лайком\r\n  function handleCardLike(cardId, likes) {\r\n    const isLiked = likes.some(i => i._id === currentUser._id); // проверяем, есть ли уже лайк на этой карточке\r\n    //Отправляем запрос в API и получаем обновлённые данные карточки\r\n    if (!isLiked) {\r\n      setLoading(true);\r\n      api.addLike(cardId)\r\n        .then((newCard) => {\r\n          setLoading(false);\r\n          setCards((cards) => cards.map((c) => c._id === cardId ? newCard : c))\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          console.log(err);\r\n        }) // данные карточки с лайком - стейт всех карточек -  мапом найти карточку с таким же айди, если нет, то новый стейт, если нет - не менять\r\n    } else {\r\n      setLoading(true);\r\n      api.deleteLike(cardId)\r\n        .then((newCard) => {\r\n          setLoading(false);\r\n          setCards((cards) => cards.map((c) => c._id === cardId ? newCard : c))\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          console.log(err);\r\n        })\r\n    }\r\n  }\r\n\r\n  //удаление карточки\r\n  function handleCardDelete(cardId) {\r\n    setLoading(true);\r\n    api.deleteCard(cardId)\r\n      .then(() => {\r\n        setLoading(false);\r\n        setCards((cards) => cards.filter((c) => c._id !== cardId))\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  //отправка карточки на сервер и обновление стейта для отрисовки \r\n  function handleAddPlaceSubmit(data) {\r\n    setLoading(true);\r\n    api.sendImages(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        setIsAddPlacePopupOpen(false);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      })\r\n  }\r\n\r\n  //...Регистрация и Авторизация...\r\n\r\n  //пробросить данные для регистрации через АПИ\r\n  function handleRegister(data) {\r\n    auth.register(data)\r\n      .then((data) => {\r\n        //записать в переменную ошибку -> вывести в инф.окно\r\n        let messageError = data.message;\r\n        if (Object.keys(data).includes('message')) { messageError = data.message }\r\n        else if (Object.keys(data).includes('error')) { messageError = data.error }\r\n        //проверить ответ сервера на содержание, есть ли ошибки\r\n        if (Object.keys(data).includes('message') || Object.keys(data).includes('error')) {\r\n          setTextErrorRegister(messageError); // передать текст ошибки в инф.окно\r\n          setIsAuthUserUnsuccessfull(true)\r\n        } else {\r\n          setIsRegisterPopupOpened(true); // при положительном ответе открыть попап подверждения регистрации\r\n          setTimeout(() => { // закрыть подверждение через 3 сек.\r\n            setIsRegisterPopupOpened(false);\r\n            setRegisterIn(false);\r\n          }, 3000);\r\n          setRegisterIn(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsAuthUserUnsuccessfull(false);\r\n      });\r\n  };\r\n\r\n  //пробросить данные из инпутов и отправить на сервер для авторизации пользователя\r\n  function handleLogin(dataUser) {\r\n    auth.login(dataUser)\r\n      .then((data) => {\r\n        if (data.message === 'Incorrect email address or password') {\r\n          setIsAuthUserUnsuccessfull(true);\r\n          setTextErrorRegister(data.message); // передать текст ошибки в инф.окно\r\n        } else {\r\n          localStorage.setItem('token', data.token);\r\n          localStorage.setItem(\"email\", dataUser.email);\r\n          getAuth(data.token);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //запрос на сервер для авторизации\r\n  function getAuth(tkn) {\r\n    auth.getToken(tkn)\r\n      .then(() => {\r\n        setLoggedIn(true);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setIsAuthUserUnsuccessfull(false);\r\n      });\r\n  }\r\n\r\n  //валидация токена\r\n  function tokenCheck() {\r\n    const jwt = localStorage.getItem('token');\r\n    if (jwt !== null) {\r\n      setLoggedIn(true);\r\n      getAuth(jwt);\r\n    } else {\r\n      setLoggedIn(false);\r\n    }\r\n  }\r\n\r\n\r\n  //проверка авторизации пользователя\r\n  useEffect(() => {\r\n    tokenCheck(localStorage.getItem('token'));\r\n  }, [loggedIn])\r\n\r\n  // выйти из аккаунта (пробрасывается из Header) \r\n  function handleLogginOut(data) {\r\n    setLoggedIn(data);\r\n    localStorage.clear();\r\n  }\r\n\r\n  return (\r\n    <currentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header handleLoggedInStateChanged={handleLogginOut} />\r\n        <Switch>\r\n          {/* Авторизация пользователя */}\r\n          <Route path=\"/sign-in\">\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Login onLogin={handleLogin} />}\r\n          </Route>\r\n          {/* Регистрация нового пользователя */}\r\n          <Route path=\"/sign-up\">\r\n            {registerIn ? <Redirect to=\"/sign-in\" /> : <Register onRegister={handleRegister} />}\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            {loading ? <Spinner /> : <></>}\r\n            {loggedIn ?\r\n              <Main onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n              /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Footer loggedIn={loggedIn} />\r\n        {/* Информационное окно об успешной регистрации */}\r\n        <InfoTooltip isRegister={isRegisterPopupOpened} isClose={closeAllPopups} isAuth={isAuthUnsuccessfull} textError={textErrorRegister} />\r\n        {/**  <!--Попап Редактирование профиля --> */}\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} isClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n        {/** <!--Попап добавление изображений(карточек) пользователем --> */}\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} isClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n        {/** <!--Попап форма редактирования аватара --> */}\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} isClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n        {/** <!-- Попап подтверждения удаления карточки --> */}\r\n        <PopupWithForm name='popup_card_remove'\r\n          text='Вы уверены?'\r\n          isOpen={isDeletePlacePopupOpen}\r\n          isClose={closeAllPopups} />\r\n        {/** <!--Попап Масштабированное изображение --> */}\r\n        < ImagePopup isOpen={isImagePopupOpened}\r\n          name={selectedCard.name}\r\n          link={selectedCard.src}\r\n          onClose={closeAllPopups} />\r\n      </div>\r\n    </currentUserContext.Provider >\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n//"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}