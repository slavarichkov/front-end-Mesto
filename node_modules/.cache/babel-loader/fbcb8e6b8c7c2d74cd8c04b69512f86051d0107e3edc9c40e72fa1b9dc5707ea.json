{"ast":null,"code":"import _classCallCheck from\"C:/Users/vyach/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/vyach/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(data){_classCallCheck(this,Api);this.host=data.host;this.token=data.token;}// проверка статуса запроса\n_createClass(Api,[{key:\"_getResponse\",value:function _getResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u043E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\" - \").concat(res.statusText));}}// запрос данных пользователя\n},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this.host,\"users/me\"),{headers:{authorization:this.token}}).then(function(res){return _this._getResponse(res);});}// отправка данных пользователя\n},{key:\"sendUserInfo\",value:function sendUserInfo(data){var _this2=this;return fetch(\"\".concat(this.host,\"users/me\"),{method:'PATCH',headers:{authorization:this.token,'Content-Type':'application/json'},body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){return _this2._getResponse(res);});}//запрос изображений с сервера \n},{key:\"getImages\",value:function getImages(){var _this3=this;return fetch(\"\".concat(this.host,\"cards\"),{headers:{authorization:this.token}}).then(function(res){return _this3._getResponse(res);});}// отправка изображений на сервер \n},{key:\"sendImages\",value:function sendImages(data){var _this4=this;return fetch(\"\".concat(this.host,\"cards\"),{method:'POST',headers:{authorization:this.token,'Content-Type':'application/json'},body:JSON.stringify({name:data.image_title,link:data.link})}).then(function(res){return _this4._getResponse(res);});}//смена аватара(отправка на сервер)\n},{key:\"sendAvatar\",value:function sendAvatar(data){var _this5=this;return fetch(\"\".concat(this.host,\"users/me/avatar\"),{method:'PATCH',headers:{authorization:this.token,'Content-Type':'application/json'},body:JSON.stringify({avatar:data.avatar})}).then(function(res){return _this5._getResponse(res);});}//удалить карточку\n},{key:\"deleteCard\",value:function deleteCard(data){var _this6=this;return fetch(\"\".concat(this.host,\"cards/\").concat(data),{method:'DELETE',headers:{authorization:this.token}}).then(function(res){return _this6._getResponse(res);});}//поставить лайк \n},{key:\"addLike\",value:function addLike(data){var _this7=this;return fetch(\"\".concat(this.host,\"cards/\").concat(data,\"/likes \"),{method:'PUT',headers:{authorization:this.token}}).then(function(res){return _this7._getResponse(res);});}//удалить лайк\n},{key:\"deleteLike\",value:function deleteLike(data){var _this8=this;return fetch(\"\".concat(this.host,\"cards/\").concat(data,\"/likes \"),{method:'DELETE',headers:{authorization:this.token}}).then(function(res){return _this8._getResponse(res);});}}]);return Api;}();var api=new Api({host:'https://mesto.nomoreparties.co/v1/cohort-47/',token:'aa25b93c-b1f5-4136-8d21-3d760fe1b048'});export default api;","map":{"version":3,"names":["Api","data","host","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_getResponse","method","body","JSON","stringify","name","about","image_title","link","avatar","api"],"sources":["C:/Users/vyach/dev/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\r\n    constructor(data) {\r\n        this.host = data.host;\r\n        this.token = data.token;\r\n    }\r\n\r\n    // проверка статуса запроса\r\n    _getResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else {\r\n            return Promise.reject(\r\n                `ошибка: ${res.status} - ${res.statusText}`\r\n            );\r\n        }\r\n    }\r\n\r\n    // запрос данных пользователя\r\n    getUserInfo() {\r\n        return fetch(`${this.host}users/me`, {\r\n            headers: {\r\n                authorization: this.token,\r\n            },\r\n        }).then((res) => this._getResponse(res))\r\n    }\r\n\r\n    // отправка данных пользователя\r\n    sendUserInfo(data) {\r\n        return fetch(`${this.host}users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this.token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ name: data.name, about: data.about }),\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n\r\n    //запрос изображений с сервера \r\n    getImages() {\r\n        return fetch(`${this.host}cards`, {\r\n            headers: {\r\n                authorization: this.token,\r\n            },\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n\r\n    // отправка изображений на сервер \r\n    sendImages(data) {\r\n        return fetch(`${this.host}cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this.token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ name: data.image_title, link: data.link }),\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n\r\n    //смена аватара(отправка на сервер)\r\n    sendAvatar(data) {\r\n        return fetch(`${this.host}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this.token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ avatar: data.avatar }),\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n\r\n    //удалить карточку\r\n    deleteCard(data) {\r\n        return fetch(`${this.host}cards/${data}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this.token,\r\n            }\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n\r\n    //поставить лайк \r\n    addLike(data) {\r\n        return fetch(`${this.host}cards/${data}/likes `, {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: this.token,\r\n            }\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n\r\n    //удалить лайк\r\n    deleteLike(data) {\r\n        return fetch(`${this.host}cards/${data}/likes `, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this.token,\r\n            }\r\n        }).then((res) => this._getResponse(res));\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    host: 'https://mesto.nomoreparties.co/v1/cohort-47/',\r\n    token: 'aa25b93c-b1f5-4136-8d21-3d760fe1b048'\r\n});\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}